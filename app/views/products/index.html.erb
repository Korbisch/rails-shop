<div class="w-full">
  <% if notice.present? %>
    <p class="py-2 px-3 bg-green-50 mb-5 text-green-500 font-medium rounded-lg inline-block" id="notice"><%= notice %></p>
  <% end %>

  <div class="flex justify-between items-center">
    <h1 class="font-bold text-4xl">Products</h1>
    <%= link_to "New product", new_product_path, class: "rounded-lg py-3 px-5 bg-blue-600 text-white block font-medium" %>
  </div>

  <table class="min-w-full divide-y divide-gray-200 mt-8">
    <thead>
    <tr>
      <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
        Image
      </th>
      <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
        Product Name
      </th>
      <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
        Price
      </th>
    </tr>
    </thead>
    <tbody>
    <% @products.each do |product| %>
      <tr class="<%= cycle('bg-gray-50', 'bg-white') %>">
        <td class="px-6 py-4 whitespace-nowrap">
          <%= image_tag(product.image_url, class: 'object-cover w-28 h-28 rounded') %>
        </td>
        <td class="px-6 py-4 whitespace-nowrap">
          <p class="font-bold"><%= product.title %></p>
        </td>
        <td class="px-6 py-4 whitespace-nowrap">
          <p><%= product.price %></p>
        </td>
        <td class="px-6 py-4 whitespace-nowrap">
          <%= render 'components/secondary_button', content: link_to('Show', product) %>
        </td>
        <td class="px-6 py-4 whitespace-nowrap">
          <%= render 'components/secondary_button', content: link_to('Edit', edit_product_path(product)) %>
        </td>
        <td class="px-6 py-4 whitespace-nowrap">
          <%= render 'components/secondary_button', content:
            link_to(
              'Delete',
              product,
              data: { turbo_method: :delete, turbo_confirm: "Are you sure?" }) %>
        </td>
      </tr>
    <% end %>
    </tbody>
  </table>
</div>
